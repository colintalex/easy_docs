<%= turbo_frame_tag dom_id(fragment) do %>

  <div class="fragment <%= fragment.element %>"
      data-controller="editable"
      data-action="
      click->editable#click
      blur->editable#blur
      keydown->editable#keyDown
      mouseup->editable#mouseUp
      mousedown->editable#mouseDown">
    <%= fragment.render %>

    <%= form_with model: [@document, fragment] do |form| %>
      <%= form.text_field :data, id: :data, hidden: true %>
      <%= form.text_field :element, id: :element, hidden: true %>
      <%= form.text_field :meta, id: :meta, hidden: true %>
      <%= form.number_field :position, id: :position, hidden: true %>
      <%= form.submit hidden: true %>
    <% end %>
  </div>

<% end %>

<%= render "fragments/new", fragment: fragment %>